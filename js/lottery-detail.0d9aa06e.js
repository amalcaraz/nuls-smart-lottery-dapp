(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["lottery-detail"],{"0893":function(t,e,r){"use strict";var i=r("3d65"),n=r.n(i);n.a},"1db6":function(t,e,r){"use strict";var i=r("a7a6"),n=r.n(i);n.a},"3d65":function(t,e,r){},"719f":function(t,e,r){"use strict";var i=r("724f"),n=r.n(i);n.a},"724f":function(t,e,r){},a7a6:function(t,e,r){},e7ec:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"lottery-detail"},[r("v-layout",[r("v-flex",[r("lottery-detail",{attrs:{lottery:t.lottery(t.$route.params.lottery)},on:{buyTickets:function(e){t.onBuyTickets(e)}}})],1)],1)],1)},n=[],s=r("9ab4"),o=r("60a3"),c=r("2f62"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.lottery?r("div",[r("section",[r("v-container",{staticClass:"pa-0",attrs:{"grid-list-lg":"","text-xs-left":""}},[r("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("lottery-header",{staticClass:"lottery-header",attrs:{lottery:t.lottery,fullDesc:!0}})],1),r("v-flex",{attrs:{xs12:"",sm6:"",md6:""}},[r("v-card",{attrs:{elevation:"0"}},[r("v-card-text",[r("lottery-summary",{attrs:{lottery:t.lottery}})],1)],1)],1)],1)],1)],1),r("section",[r("h2",{staticClass:"title"},[t._v("Tickets")]),r("v-container",{staticClass:"pa-0"},[r("v-layout",[r("v-flex",[t.ticketList.length>0?r("ticket-list",{attrs:{ticketList:t.ticketList,ticketPrice:t.lottery.ticketPrice}}):r("div",[t._v("No tickets sold")]),r("btn-buy-tickets",{attrs:{lottery:t.lottery},on:{click:function(e){t.onBuyTickets(t.lottery.id)}}})],1)],1)],1)],1),r("section",[r("lottery-result",{attrs:{lottery:t.lottery}})],1)]):t._e()},a=[],u=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",{attrs:{"two-line":"",subheader:""}},[t._l(t.groupedTickets,function(e,i,n){return[r("v-list-tile",{key:e.id,attrs:{avatar:""}},[r("v-list-tile-avatar",[r("v-icon",{attrs:{large:"",color:"blue"}},[t._v("receipt")])],1),r("v-list-tile-content",[r("v-list-tile-title",[r("strong",[t._v("Owner: ")]),r("a",{staticClass:"grey--text",attrs:{target:"_blank",href:t.getAddressUrl(e.owner)}},[t._v(t._s(e.owner))])]),r("v-list-tile-sub-title",[r("strong",[t._v("Tickets: ")]),t._v(t._s(e.tickets)+", "),r("strong",[t._v("Invested: ")]),t._v(t._s(t._f("nulsCurrency")(e.betted))+" "),r("i",{staticClass:"nuls"})])],1)],1),n+1<Object.keys(t.groupedTickets).length?r("v-divider",{key:n}):t._e()]})],2)},p=[],v=r("7e4c"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAddressUrl=function(t){return Object(v["e"])(t)},e}return s["d"](e,t),Object.defineProperty(e.prototype,"groupedTickets",{get:function(){var t=this;return this.ticketList.reduce(function(e,r){return e[r.owner]||(e[r.owner]={owner:r.owner,tickets:0,prizes:[],betted:0}),e[r.owner].tickets++,e[r.owner].betted+=t.ticketPrice,r.prize&&e[r.owner].prizes.push(r.prize),e},{})},enumerable:!0,configurable:!0}),s["c"]([Object(o["b"])({default:0})],e.prototype,"ticketPrice",void 0),s["c"]([Object(o["b"])()],e.prototype,"ticketList",void 0),e=s["c"]([Object(o["a"])({})],e),e}(o["c"]),f=y,d=f,b=(r("0893"),r("2877")),_=Object(b["a"])(d,u,p,!1,null,"3d45924e",null);_.options.__file="TicketList.vue";var h=_.exports,k=r("6604"),g=r("c6fb"),w=r("90a3"),m=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.showLotteryResult?r("div",[r("h2",{staticClass:"title"},[t._v("Winners")]),r("v-container",{staticClass:"pa-0"},[r("v-layout",[r("v-flex",[t.winnerList.length>0?r("winner-list",{attrs:{winnerList:t.winnerList,ticketPrice:t.lottery.ticketPrice}}):r("div",[r("p",[t._v("This lottery finished without reaching the minimum participation of "),r("strong",[t._v(t._s(t.lottery.minParticipants)+" tickets")]),t._v(". "),r("br"),t._v("\n          A total of "),r("strong",[t._v(t._s(t.ticketList.length)+" tickets")]),t._v(" were sold "),t.lottery.totalPot>0?r("span",[t._v(", a refund was done to all participants")]):t._e()])])],1)],1)],1)],1):t._e()},O=[],L=r("1e28"),j=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-list",{attrs:{"two-line":"",subheader:""}},[t._l(t.winnerList,function(e,i){return[r("v-list-tile",{key:e.id,attrs:{avatar:""}},[r("v-list-tile-avatar",[r("v-icon",{class:"icon prize-"+e.prize,attrs:{large:""}},[t._v(t._s(t.getPrizeIcon(e.prize)))])],1),r("v-list-tile-content",[r("v-list-tile-title",[r("strong",[t._v(t._s(t.getPrizeName(e.prize)))])]),r("v-list-tile-sub-title",[r("strong",[t._v("Prize: ")]),t._v(t._s(t._f("nulsCurrency")(e.prizeAmount))+" "),r("i",{staticClass:"nuls"}),t._v(", "),r("strong",[t._v("Ticket id: ")]),t._v(t._s(e.id))]),r("v-list-tile-sub-title",[r("strong",[t._v("Owner: ")]),r("a",{staticClass:"grey--text",attrs:{target:"_blank",href:t.getAddressUrl(e.owner)}},[t._v(t._s(e.owner))])])],1)],1),i+1<Object.keys(t.winnerList).length?r("v-divider",{key:i}):t._e()]})],2)},z=[],P=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAddressUrl=function(t){return Object(v["e"])(t)},e}return s["d"](e,t),e.prototype.getPrizeIcon=function(t){switch(t){case 1:return"star";case 2:return"star_half";case 3:default:return"star_border"}},e.prototype.getPrizeName=function(t){switch(t){case 1:return"First prize";case 2:return"Second prize";case 3:default:return"Third prize"}},s["c"]([Object(o["b"])({default:0})],e.prototype,"ticketPrice",void 0),s["c"]([Object(o["b"])()],e.prototype,"winnerList",void 0),e=s["c"]([Object(o["a"])({})],e),e}(o["c"]),x=P,T=x,C=(r("719f"),Object(b["a"])(T,j,z,!1,null,"fa64cb5a",null));C.options.__file="WinnerList.vue";var $=C.exports,A=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["d"](e,t),Object.defineProperty(e.prototype,"showLotteryResult",{get:function(){return this.lottery.status===L["a"].CLOSED},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"winnerList",{get:function(){return this.ticketList.filter(function(t){return t.prize>0}).sort(function(t,e){return t.prize-e.prize})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ticketList",{get:function(){return this.lottery.ticketMap?Object.values(this.lottery.ticketMap):[]},enumerable:!0,configurable:!0}),s["c"]([Object(o["b"])()],e.prototype,"lottery",void 0),e=s["c"]([Object(o["a"])({components:{WinnerList:$}})],e),e}(o["c"]),B=A,D=B,E=Object(b["a"])(D,m,O,!1,null,null,null);E.options.__file="LotteryResult.vue";var U=E.exports,M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.getAddressUrl=function(t){return Object(v["e"])(t)},e.getDescription=function(t){return t.length<100?t:t.substr(0,100)+"..."},e}return s["d"](e,t),Object.defineProperty(e.prototype,"ticketList",{get:function(){return this.lottery.ticketMap?Object.values(this.lottery.ticketMap):[]},enumerable:!0,configurable:!0}),e.prototype.onBuyTickets=function(t){this.$emit("buyTickets",t)},s["c"]([Object(o["b"])()],e.prototype,"lottery",void 0),e=s["c"]([Object(o["a"])({components:{TicketList:h,LotteryHeader:k["a"],LotterySummary:g["a"],BtnBuyTickets:w["a"],LotteryResult:U}})],e),e}(o["c"]),R=M,S=R,I=(r("1db6"),Object(b["a"])(S,l,a,!1,null,"2b9d16ba",null));I.options.__file="LotteryDetail.vue";var N=I.exports,W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s["d"](e,t),e.prototype.onBuyTickets=function(t){this.$router.push({name:"buy-tickets",params:{lottery:t.toString()}})},e=s["c"]([Object(o["a"])({computed:s["a"]({},Object(c["c"])("lottery",["lottery"])),components:{LotteryDetail:N}})],e),e}(o["c"]),J=W,F=J,H=Object(b["a"])(F,i,n,!1,null,null,null);H.options.__file="LotteryDetail.vue";e["default"]=H.exports}}]);
//# sourceMappingURL=lottery-detail.0d9aa06e.js.map
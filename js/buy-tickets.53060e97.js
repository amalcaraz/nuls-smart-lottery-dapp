(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["buy-tickets"],{"2a60":function(t,e,r){"use strict";var o=r("d120"),i=r.n(o);i.a},"2f1a":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"buy-tickets"},[r("v-layout",{attrs:{"justify-center":""}},[r("v-flex",{attrs:{xs12:"",sm9:"",lg7:""}},[r("buy-tickets-form",{attrs:{lottery:t.lottery(t.$route.params.lottery)},on:{cancel:t.onCancelForm,submit:t.onBuyTickets}})],1)],1)],1)},i=[],n=r("9ab4"),s=r("60a3"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-form",{ref:"form",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-card",[r("v-card-title",{staticClass:"title"},[t._v('\n      Lottery: "'+t._s(t.lottery.title)+'""\n    ')]),r("v-card-text",[r("v-text-field",{attrs:{label:"Number of tickets",min:1,step:1,type:"number",rules:t.ticketsCountRules,required:""},model:{value:t.modelLottery.ticketsCount,callback:function(e){t.$set(t.modelLottery,"ticketsCount",e)},expression:"modelLottery.ticketsCount"}}),r("div",{staticClass:"mt-2"},[r("div",[r("strong",[t._v("Ticket price: ")]),r("span",{staticClass:"grey--text"},[t._v(t._s(t._f("nulsCurrency")(t.lottery.ticketPrice))+" "),r("i",{staticClass:"nuls"})])]),t.totalPrize?r("div",[r("strong",[t._v("Total price: ")]),r("span",{staticClass:"grey--text"},[t._v(t._s(t._f("nulsCurrency")(t.totalPrize))+" "),r("i",{staticClass:"nuls"})])]):t._e()])],1),r("v-card-actions",[r("v-btn",{attrs:{color:"error",flat:""},on:{click:function(e){return e.stopPropagation(),t.onCancel(e)}}},[t._v("Cancel")]),r("v-btn",{attrs:{color:"warning",flat:""},on:{click:function(e){e.stopPropagation(),t.$refs.form.reset()}}},[t._v("Reset")]),r("v-spacer"),r("v-btn",{attrs:{color:"primary",type:"submit",disabled:!t.valid}},[t._v(t._s(t.valid?"Buy "+t.modelLottery.ticketsCount+" tickets":"Submit"))])],1)],1)],1)},l=[],a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.valid=!1,e.modelLottery={ticketsCount:void 0},e.requiredRules=[function(t){return void 0!==t||"This field is required"}],e.ticketsCountRules=[function(t){return parseFloat(t)>0&&parseFloat(t)%1===0||"Should an integer greater than 0"},e.requiredRules[0]],e}return n["d"](e,t),Object.defineProperty(e.prototype,"totalPrize",{get:function(){return this.lottery?this.lottery.ticketPrice*parseInt(this.modelLottery.ticketsCount,10):0},enumerable:!0,configurable:!0}),e.prototype.onCancel=function(){this.$emit("cancel"),this.clearForm()},e.prototype.onSubmit=function(){this.valid&&this.$emit("submit",this.getResponse())},e.prototype.clearForm=function(){this.$refs.form.reset()},e.prototype.getResponse=function(){var t={id:this.lottery.id,ticketPrice:this.lottery.ticketPrice,ticketsCount:parseInt(this.modelLottery.ticketsCount,10)};return t},n["c"]([Object(s["b"])()],e.prototype,"lottery",void 0),e=n["c"]([Object(s["a"])({})],e),e}(s["c"]),u=a,p=u,f=(r("2a60"),r("2877")),y=Object(f["a"])(p,c,l,!1,null,"7f0bf313",null);y.options.__file="BuyTicketsForm.vue";var d=y.exports,v=r("2f62"),m=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n["d"](e,t),e.prototype.onBuyTickets=function(t){return n["b"](this,void 0,void 0,function(){return n["e"](this,function(e){switch(e.label){case 0:return[4,this.$store.dispatch("lottery/buyTickets",t)];case 1:return e.sent(),this.$router.push({name:"home"}),[2]}})})},e.prototype.onCancelForm=function(){this.$router.back()},e=n["c"]([Object(s["a"])({computed:n["a"]({},Object(v["c"])("lottery",["lotteryList","lottery"])),components:{BuyTicketsForm:d}})],e),e}(s["c"]),b=m,k=b,h=Object(f["a"])(k,o,i,!1,null,null,null);h.options.__file="BuyTickets.vue";e["default"]=h.exports},d120:function(t,e,r){}}]);
//# sourceMappingURL=buy-tickets.53060e97.js.map